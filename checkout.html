<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Checkout</title>

    <link rel="stylesheet" href="style.css">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Forum&display=swap" rel="stylesheet">
    <link
        href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,100..1000;1,9..40,100..1000&display=swap"
        rel="stylesheet">
    <link rel="icon" href="resources/icons/favicon head.png" type="image/x-icon">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html,
        body {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            scroll-behavior: smooth;
        }

        /* SCROLLBAR */

        ::-webkit-scrollbar {
            width: 5px;
        }

        ::-webkit-scrollbar-track {
            background: hsla(210, 4%, 9%, 1);
        }

        ::-webkit-scrollbar-thumb {
            background: #ffffff;
            border-radius: 10px;
        }

        /* NAVBAR */

        /* Style the navbar */
        .navbar {
            
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 80px;
            height: 100px;
            position: fixed;
            width: 100%;
            position: fixed;
            z-index: 999;
            backdrop-filter: blur(12px);
            background-color: rgba(0, 0, 0, 0.5);
        }

        /* Navbar links */
        .navbar>a {
            color: white;
            text-align: center;
            text-decoration: none;
            font-family: 'DM Sans';
            transition: 0.3s ease-in-out;
        }



        .checkout-logo {
            height: 50px;
            width: 170px;
        }

        .social-icons {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
        }

        .social-icons>a>img {
            height: 30px;
            border-radius: 10px;
        }

        /* On hover, the background color of the links will change */
        /* .navbar a:hover {
    background-color: #ddd;
    color: black;
} */

        /* MAIN-CHECKOUT */

        .container {
            display: flex;
            justify-content: center;
            align-items: flex-start;
            gap: 40px;
            margin: 0;
            padding: 80px 20rem 50px 20rem;
            /* This value is currently fixed */
            background-color: rgb(0, 0, 0);
            width: 100%;
            height: fit-content;
            min-width: 320px;
            /* Adjust the value according to your design */
        }

        @media screen and (max-width: 1200px) {
            .container {
                padding: 80px 5rem 50px 5rem;
                /* Adjust padding for smaller screens */
            }
        }

        @media screen and (max-width: 768px) {
            .container {
                padding: 80px 2rem 50px 2rem;
                /* Adjust padding for even smaller screens */
            }
        }

        @media screen and (max-width: 480px) {
            .container {
                padding: 80px 1rem 50px 1rem;
                /* Adjust padding for very small screens */
            }
        }













        .remove-item {
            margin-left: -5px;
            /* Add some margin between the quantity input field and the remove button */
            background-color: rgb(0, 0, 0);
            color: #ffffff;
            border: 1px solid #ffffff;
            padding: 5px 10px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        .remove-item:hover {
            background-color: #ffffff;
            color: #000000;
        }

        .cart-section {
            color: #fff;
            width: 50%;
            /* padding-right: 20px; */
        }

        .cart-section>h2 {
            /* padding: 0 99px; */
            padding: 90px 0 0 0;
            font-size: 40px;
            font-family: 'Forum';
            font-weight: 100;
            text-align: center;

        }

        .cart-item {
            padding: 10px;
            /* border-bottom: 1px solid #ccc; */
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .item-title {
            flex: 1;
            font-size: 20px;
        }

        .item-price {
            margin-left: 20px;
            font-size: 20px;
        }

        .item-quantity {
            width: 40px;
            margin: 0 0 0 10px;
            color: #fff;
            background-color: transparent;
            border: transparent;
            outline: none;
            text-align: center;
            font-size: 20px;
        }


        .checkout-section {
            color: #fff;
            width: 70%;
        }

        .checkout-section>h1 {
            padding: 90px 0 0 0;
            font-size: 40px;
            font-family: 'Forum';
            font-weight: 100;
            text-align: center;

            margin-bottom: 40px;
        }

        label {
            display: block;
            margin-bottom: 10px;
            font-family: 'DM Sans';
            font-size: 20px;
        }

        .form-textbox {
            width: 100%;
            padding: 10px;
            margin-bottom: 20px;
            background-color: rgb(40, 40, 41);
            outline: none;
            border: 1px solid #ffffff;
            color: #fff;
            border-radius: 0px;
            font-family: 'DM Sans';
            font-weight: 400;
            font-size: 20px;
        }


        .place-order-button {
            background-color: #000000;
            color: rgb(255, 255, 255);
            border: 1px solid #ffffff;
            padding: 10px 10px;
            cursor: pointer;
            transition: background-color 0.3s ease;
            width: 100%;
            font-size: 20px;
            margin-top: 40px;
        }

        .place-order-button:hover {
            background-color: rgb(255, 255, 255);
            color: #000000;
        }

        .country-select {
            width: 100%;
            padding: 10px;
            margin-bottom: 20px;
            background-color: rgb(40, 40, 41);
            outline: none;
            border: 1px solid #ffffff;
            color: #fff;
            border-radius: 0px;
            font-family: 'DM Sans';
            font-weight: 400;
            font-size: 20px;
        }

        .cart {
            /* border: 1px solid #ccc; */
            color: #fff;
            padding: 10px 0 0 15px;
            font-weight: 100;
            font-family: 'Forum';
        }

        .subtotal {
            margin: 15px 10px 15px 10px;
            font-size: 25px;
            font-weight: 100;
            font-family: 'Forum';
        }

        .card-details {
            display: none;
        }




        /* SCROLL TO TOP BUTTON */

        #scrollToTopBtn {
            display: none;
            position: fixed;
            bottom: 30px;
            right: 30px;
            z-index: 99;
            cursor: pointer;
            background-color: #000000;
            color: #fff;
            border: #4f4f4f 1px solid;
            font-size: xx-large;
            /* transform: rotate(45deg); */
            /* border-radius: 3px; */
            transition: 0.3s ease-in-out;
            height: 50px;
            width: 50px;
        }

        @media screen and (max-width: 1200px) {
            .container {
                padding: 80px 5rem 50px 5rem;
                /* Adjust padding for smaller screens */
            }
        }

        @media screen and (max-width: 768px) {
            .container {
                padding: 80px 2rem 50px 2rem;
                /* Adjust padding for even smaller screens */
            }
        }

        @media screen and (max-width: 480px) {
            .navbar img{
                width: 80%;
            }
            .navbar {
                gap: 40px
            }



            .container {
                padding: 80px 1rem 50px 1rem;
                /* Adjust padding for very small screens */
            }
        }

        @media screen and (max-width: 975px) {
            .cart-item {
                display: flex;
                justify-content: flex-start;
                align-items: center;
                flex-direction: column;
            }

            .item-title {
                flex: 1;
                font-size: 20px;
                text-align: center;
                margin: 0 0 5px 0;
            }

            .item-price {
                width: 40px;
                margin: 5px 0px 10px 11px;
                color: #fff;
                background-color: transparent;
                border: transparent;
                outline: none;
                text-align: center;
                font-size: 20px;
            }

            .item-quantity {
                width: 40px;
                margin: 5px 0px 10px 11px;
                color: #fff;
                background-color: transparent;
                border: transparent;
                outline: none;
                text-align: center;
                font-size: 20px;
            }
        }
    </style>
</head>

<body>

    <!-- NAVBAR -->

    <div class="navbar">
        <a href="indexmediaquery.html"><img class="checkout-logo" src="logo/heavenly spirits logo.png" alt=""></a>
        <a href="indexmediaquery.html">HOME</a>
        <a href="#footerbox">CONTACT</a>

    </div>

    <!-- MAIN CHECKOUT -->

    <div class="container" id="home">
        <div class="cart-section">
            <h2>Your Cart</h2>
            <div class="cart" id="cart">
                <!-- Cart items will be displayed here -->
                <div class="subtotal">
                    Subtotal: <span id="subtotal">$0.00</span>
                </div>
            </div>
        </div>
        <div class="checkout-section">
            <h1>Checkout</h1>
            <form>
                <label for="fullname">Full Name:</label>
                <input class="form-textbox" type="text" id="fullname" name="fullname" placeholder="Name" required>

                <label for="email">Email:</label>
                <input class="form-textbox" type="email" id="email" name="email" placeholder="E-mail" required>

                <label for="phone">Phone number:</label>
                <input class="form-textbox" type="tel" id="phone" name="phone" placeholder="Phone number" required>

                <label for="address">Address:</label>
                <input class="form-textbox" type="text" id="address" name="address" placeholder="Address" required>

                <label for="city">City:</label>
                <input class="form-textbox" type="text" id="city" name="city" placeholder="City" required>

                <label for="state">State:</label>
                <input class="form-textbox" type="text" id="state" name="state" placeholder="State" required>

                <label for="zip">ZIP Code:</label>
                <input class="form-textbox" type="text" id="zip" name="zip" placeholder="ZIP Code" required>

                <label for="country">Country:</label>
                <select class="country-select" id="country" name="country" required>
                    <option value="">Select Country</option>
                    <option value="US">United States</option>
                    <option value="CA">Canada</option>
                    <option value="UK">United Kingdom</option>
                    <option value="IN">India</option>
                    <!-- Add more options as needed -->
                </select>

                <label for="payment-method">Payment Method:</label>
                <select class="payment-select country-select" id="payment-method" name="payment-method"
                    onchange="toggleCardDetails()">
                    <option value="card">Credit Card</option>
                    <option value="cash">Cash on Delivery</option>
                </select>

                <!-- Card details -->
                <div id="card-details" class="card-details">
                    <label for="card-number">Card Number:</label>
                    <input class="form-textbox" type="text" id="card-number" name="card-number"
                        placeholder="Card Number">

                    <label for="expiry-date">Expiry Date:</label>
                    <input class="form-textbox" type="text" id="expiry-date" name="expiry-date" placeholder="MM/YY"
                        maxlength="5" pattern="(0[1-9]|1[0-2])\/([0-9]{2})">

                    <label for="cvv">CVV:</label>
                    <input class="form-textbox" type="text" id="cvv" name="cvv" placeholder="CVV">
                </div>

                <input class="place-order-button" type="submit" value="Place Order">
            </form>
        </div>
    </div>

    <!-- FOOTER -->
    <div id="footerbox">
        <footer>
            <div class="footer-container">
                <div class="footer-section">
                    <h3>About Heavenly Spirits</h3>
                    <p>Discover the artistry and passion behind Heavenly Spirits, crafting exceptional libations for
                        your enjoyment.</p>
                </div>
                <div class="footer-section">
                    <h3>Contact Us</h3>
                    <p>Email: info@heavenlyspirits.com</p>
                    <p>Phone: 1-800-HEAVENLY</p>
                </div>
                <div class="footer-section">
                    <h3>Quick Links</h3>
                    <ul>
                        <li><a href="#">Shop</a></li>
                        <li><a href="#">About Us</a></li>
                        <li><a href="#">Contact Us</a></li>
                        <li><a href="#">Privacy Policy</a></li>
                        <li><a href="#">Terms and Conditions</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h3>Connect with Us</h3>
                    <ul>
                        <li><a href="#">Facebook</a></li>
                        <li><a href="#">Twitter</a></li>
                        <li><a href="#">Instagram</a></li>
                    </ul>
                </div>
            </div>
            <div class="copyright">
                <p>&copy; 2024 Heavenly Spirits. All rights reserved.</p>
            </div>
        </footer>
    </div>

    <!-- SCROLL TOP BUTTON -->

    <button onclick="scrollToTop()" id="scrollToTopBtn" title="Go to top">
        <p>&#8593;</p>
    </button>

    <!-- <script src="checkout.js"></script> -->
    <script>
        // Show the scroll-to-top button when the user scrolls down 20px from the top of the document
        window.onscroll = function () { scrollFunction() };

        function scrollFunction() {
            if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
                document.getElementById("scrollToTopBtn").style.display = "block";
            } else {
                document.getElementById("scrollToTopBtn").style.display = "none";
            }
        }

        // When the user clicks on the button, scroll to the top of the document
        function scrollToTop() {
            document.documentElement.scrollTop = 0; // For Chrome, Firefox, IE and Opera
        }


        //------------------------------------------------------------------//
        //---------------------GETTING INFO ABOUT THE CART------------------//
        //------------------------------------------------------------------//


        document.addEventListener('DOMContentLoaded', function () {
            // Retrieve cart items from localStorage
            const storedCartItems = JSON.parse(localStorage.getItem('cartItems'));
            const cartElement = document.getElementById('cart');
            const subtotalElement = document.getElementById('subtotal');
            const placeOrderButton = document.querySelector('.place-order-button');

            if (storedCartItems && storedCartItems.length > 0) {
                let subtotal = 0;
                storedCartItems.forEach(item => {
                    const itemElement = document.createElement('div');
                    itemElement.classList.add('cart-item');
                    itemElement.innerHTML = `
                <span class="item-title">${item.title}</span>
                <span class="item-price">₹${item.price}</span>
                <input type="number" min="1" value="${item.quantity}" class="item-quantity">
                <button class="remove-item">Remove</button>
            `;

                    cartElement.appendChild(itemElement);

                    subtotal += item.price * item.quantity;
                });

                subtotalElement.textContent = '₹' + subtotal.toFixed(2);

                // Add event listener to quantity inputs
                const quantityInputs = document.querySelectorAll('.item-quantity');
                quantityInputs.forEach(input => {
                    input.addEventListener('change', function () {
                        const cartItem = input.parentElement;
                        const title = cartItem.querySelector('.item-title').textContent;
                        const price = parseFloat(cartItem.querySelector('.item-price').textContent.replace('₹', ''));
                        const quantity = parseInt(input.value);

                        // Update storedCartItems with new quantity
                        const updatedCartItem = storedCartItems.find(item => item.title === title && item.price === price);
                        updatedCartItem.quantity = quantity;

                        // Update localStorage with modified storedCartItems
                        localStorage.setItem('cartItems', JSON.stringify(storedCartItems));

                        // Recalculate subtotal
                        let newSubtotal = 0;
                        storedCartItems.forEach(item => {
                            newSubtotal += item.price * item.quantity;
                        });
                        subtotalElement.textContent = '₹' + newSubtotal.toFixed(2);
                    });
                });

                // Add event listener to remove buttons
                const removeButtons = document.querySelectorAll('.remove-item');
                removeButtons.forEach(button => {
                    button.addEventListener('click', function () {
                        const cartItem = button.parentElement;
                        const title = cartItem.querySelector('.item-title').textContent;
                        const price = parseFloat(cartItem.querySelector('.item-price').textContent.replace('₹', ''));

                        // Remove item from storedCartItems array
                        storedCartItems.splice(storedCartItems.findIndex(item => item.title === title && item.price === price), 1);

                        // Update localStorage with modified storedCartItems
                        localStorage.setItem('cartItems', JSON.stringify(storedCartItems));

                        // Remove cart item element from DOM
                        cartItem.remove();

                        // Recalculate subtotal
                        subtotal -= price;
                        subtotalElement.textContent = '₹' + subtotal.toFixed(2);
                    });
                });

                // Add event listener to "Place Order" button
                placeOrderButton.addEventListener('click', function (event) {
                    event.preventDefault(); // Prevent the form from submitting

                    // Check if all required fields are filled
                    const form = document.querySelector('form');
                    if (form.checkValidity()) {
                        // Empty the cart
                        localStorage.removeItem('cartItems');
                        cartElement.textContent = 'Cart is empty';

                        // Redirect to index.html
                        window.location.href = 'index.html';

                        // Show alert message
                        alert('Your Order has been successfully placed.');
                    } else {
                        // If any required field is empty, display an error message or handle it accordingly
                        alert('Please fill out all required fields before placing your order.');
                    }
                });
            } else {
                cartElement.textContent = 'Cart is empty';
            }
        });




        // HIDES THE CART DETAILS WHEN CLICKED ON CASH OR POD



        function toggleCardDetails() {
            var paymentMethod = document.getElementById("payment-method").value;
            var cardDetails = document.getElementById("card-details");

            if (paymentMethod === "card") {
                cardDetails.style.display = "block"; // Show card details
            } else {
                cardDetails.style.display = "none"; // Hide card details
            }
        }

        // Initially call toggleCardDetails() to set initial state
        toggleCardDetails();
    </script>

</body>

</html>